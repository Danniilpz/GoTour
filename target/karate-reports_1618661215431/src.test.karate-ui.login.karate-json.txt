{"failedCount":1,"prefixedPath":"src\/test\/karate-ui\/login.feature","packageQualifiedName":"src.test.karate-ui.login","loopIndex":-1,"relativePath":"src\/test\/karate-ui\/login.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":59857586,"millis":59.857586,"status":"passed"},"step":{"comments":["# chromium bajo linux;","# si usas google-chrome, puedes quitar toda la parte de executable"],"background":true,"line":6,"prefix":"*","index":0,"text":"configure driver = { type: 'chrome', executable: '\/usr\/bin\/chromium-browser', showDriverLog: true }"}},{"result":{"nanos":509519,"millis":0.509519,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":1,"text":"url baseUrl"}},{"result":{"nanos":37014063,"millis":37.014063,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":2,"text":"def util = Java.type('karate.KarateTests')"}},{"result":{"nanos":10581600,"millis":10.5816,"status":"passed"},"step":{"line":38,"prefix":"*","index":0,"text":"path 'login'"}},{"result":{"nanos":559763825,"millis":559.763825,"status":"passed"},"step":{"line":39,"prefix":"*","index":1,"text":"method get"}},{"result":{"nanos":28757,"millis":0.028757,"status":"passed"},"step":{"line":40,"prefix":"*","index":2,"text":"status 200"}},{"result":{"nanos":68685879,"millis":68.685879,"status":"passed"},"step":{"line":41,"prefix":"*","index":3,"text":"print response"},"stepLog":"14:02:19.686 [print] <!DOCTYPE html>\n<html>\n  <head>\n    <meta charset=\"utf-8\"><\/meta>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\"><\/meta>\n    <title>Login a la plantilla<\/title>\n    <link rel=\"stylesheet\" href=\"\/css\/styles.css\">\n  <\/head>\n  <body>\n                \n                <div id=\"topnav\">\n                 <a href=\"\/\"><img id=\"logo\" src=\"\/img\/icon.jpg\" alt=\"El logo de gotour\" ><\/a>\n                 <div class=\"topnav-right\">\n                   <a>buscar<\/a>\n                   <a href=\"\/login\">login<\/a>\n                   <a href=\"\/registro\">Registro<\/a>\n                     \n                     <!-- <a id=\"dropdown\" th:href=\"@{\/perfil}\"><img id=\"iconouser\" th:src=\"@{\/img\/usuario.png}\" alt=\"La imagen del usuario\" ><\/a>  -->\n                 <\/div>\n                <\/div>\n                 \n             \n     <div class=\"container\">\n      <form class=\"form-signin\" method=\"post\" action=\"\/login\"><input type=\"hidden\" name=\"_csrf\" value=\"5da6969d-9751-4efa-af2d-2ddc93d8000b\"\/>\n        <h2 class=\"form-signin-heading\">Please sign in<\/h2>\n        <p>\n          <label for=\"username\" class=\"sr-only\">Username<\/label>\n          <input type=\"text\" id=\"username\" name=\"username\" \n            class=\"form-control\" placeholder=\"Username\" required=\"required\"><\/input>\n        <\/p>\n        <p>\n          <label for=\"password\" class=\"sr-only\">Password<\/label>\n          <input type=\"password\" id=\"password\" name=\"password\" \n            class=\"form-control\" placeholder=\"Password\" required=\"required\"><\/input>\n        <\/p>\n        <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">Sign in<\/button>\n      <\/form>\n<\/div>\n<\/body><\/html> \n"},{"result":{"nanos":33229792,"millis":33.229792,"status":"passed"},"step":{"line":42,"prefix":"*","index":4,"text":"print responseCookies"},"stepLog":"14:02:19.727 [print] {\n  \"JSESSIONID\": {\n    \"path\": null,\n    \"domain\": \"localhost\",\n    \"name\": \"JSESSIONID\",\n    \"max-age\": -9223372036854775808,\n    \"httponly\": false,\n    \"secure\": false,\n    \"value\": \"347374876C178DE45A9707C6239873A5\",\n    \"wrap\": false\n  }\n}\n \n"},{"result":{"nanos":18419797,"millis":18.419797,"status":"passed"},"step":{"comments":["# ... name=\"_csrf\" value=\"0a7c65e8-4e8e-452f-ad44-40b995bb91d6\" => 0a7c65e8-4e8e-452f-ad44-40b995bb91d6\""],"line":44,"prefix":"*","index":5,"text":"def csrf = karate.extract(response, '\"_csrf\" value=\"([^\"]*)\"', 1)"}},{"result":{"nanos":3343047,"millis":3.343047,"status":"passed"},"step":{"line":45,"prefix":"*","index":6,"text":"print csrf"},"stepLog":"14:02:19.749 [print] 5da6969d-9751-4efa-af2d-2ddc93d8000b \n"},{"result":{"nanos":364835,"millis":0.364835,"status":"passed"},"step":{"line":47,"prefix":"*","index":7,"text":"path 'login'"}},{"result":{"nanos":281026304,"millis":281.026304,"status":"passed"},"step":{"line":48,"prefix":"*","index":8,"text":"form field username = 'SPACEMARINE'"}},{"result":{"nanos":805257,"millis":0.805257,"status":"passed"},"step":{"line":49,"prefix":"*","index":9,"text":"form field password = 'aa'"}},{"result":{"nanos":85604,"millis":0.085604,"status":"passed"},"step":{"line":50,"prefix":"*","index":10,"text":"form field _csrf = csrf"}},{"result":{"nanos":331752177,"millis":331.752177,"status":"passed"},"step":{"line":51,"prefix":"*","index":11,"text":"method post"}},{"result":{"nanos":9884,"millis":0.009884,"status":"passed"},"step":{"line":52,"prefix":"*","index":12,"text":"status 200"}},{"result":{"nanos":6702285,"millis":6.702285,"status":"passed"},"step":{"line":53,"prefix":"*","index":13,"text":"print response"},"stepLog":"14:02:20.371 [print] <!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Perfil<\/title>\r\n    <link rel=\"stylesheet\" href=\"\/css\/styles.css\">\r\n<\/head>\r\n<body>\r\n                \n                <div id=\"topnav\">\n                 <a href=\"\/\"><img id=\"logo\" src=\"\/img\/icon.jpg\" alt=\"El logo de gotour\" ><\/a>\n                 <div class=\"topnav-right\">\n                   <a>buscar<\/a>\n                   \n                   \n                     <div class=\"dropdown\">\n                         <button class=\"dropbtn\">usuario<\/button>\n                         <div class=\"dropdown-content\">\n                           <a href=\"\/user\/2\/perfil\">Mi perfil<\/a>\n                           <a href=\"\/\">Notificaciones<\/a>\n                           <a href=\"\/user\/logout\">Salir<\/a>\n                         <\/div>\n                       <\/div>\n                     <!-- <a id=\"dropdown\" th:href=\"@{\/perfil}\"><img id=\"iconouser\" th:src=\"@{\/img\/usuario.png}\" alt=\"La imagen del usuario\" ><\/a>  -->\n                 <\/div>\n                <\/div>\n                 \n             \r\n    <div class=\"contenedor\">\r\n        <div class=\"informacion\">\r\n            <div>\r\n                <p>SPACEMARINE<\/p>\r\n                <a href=\"\/user\/2\/perfil\">Editar<\/a>\r\n                <a href=\"\/user\/2\/perfil\">Nuevo tour<\/a>\r\n                <a href=\"\/user\/2\/datosPrivados\">Mi cuenta<\/a>\r\n            <\/div>\r\n            <p>Jesus Sanchez Granado<\/p>\r\n        <\/div>\r\n        <img id=\"user\" src=\"\/img\/perro.jpg\" alt=\"La imagen del usuario\" >\r\n\r\n        <div><img src=\"\/img\/star.png\" width=\"30\" \/><\/div>\r\n\r\n        <div><img src=\"\/img\/star.png\" width=\"30\" \/><\/div>\r\n\r\n        <div><img src=\"\/img\/star.png\" width=\"30\" \/><\/div>\r\n\r\n        <div><img src=\"\/img\/star.png\" width=\"30\" \/><\/div>\r\n        <div>\r\n            <h3>-------------Tours disponibles---------------<\/h3>\r\n            <div class=\"tour\">\r\n                <div>\r\n                    <img id=\"user\" src=\"\/img\/coliseo.jpg\" alt=\"Coliseo\" >\r\n                    <div class=\"titulo\"><a href=\"\/tour\/1\">Tour1<\/a><\/div>\r\n                    <div class=\"fecha\">Inicio: 2021-12-12T20:00<\/div>\r\n                    <div class=\"fecha\">Fin: 2021-12-12T20:00<\/div>\r\n                    <div class=\"lugar\">Alcala, adas<\/div>\r\n                    <div class=\"lugar\">tour1<\/div>\r\n                    <div class=\"precio\">8.0\u20AC<\/div>\r\n                    <div class=\"personas\">0\/2 turistas<\/div>\r\n                    <p>-----------------------------------------------<\/p>\r\n                <\/div>\r\n            <\/div>      \r\n            <h3>-------------Rese√±as--------------------------<\/h3>\r\n            <div class=\"resenya\">\r\n                <img id=\"user\" src=\"\/img\/defaultuser.png\" alt=\"user\" >\r\n                <div class=\"creador\"><a href=\"\/user\/3\/perfil\">SONIA<\/a><\/div>\r\n                <div><img src=\"\/img\/star.png\" width=\"30\" \/><\/div>\r\n                <div><img src=\"\/img\/star.png\" width=\"30\" \/><\/div>\r\n                <div><img src=\"\/img\/star.png\" width=\"30\" \/><\/div>\r\n                <div><img src=\"\/img\/star.png\" width=\"30\" \/><\/div>\r\n                <div class=\"textoReview\">Buen tour<\/div>\r\n                <p>-----------------------------------------------<\/p>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n    \r\n<\/body>\r\n<\/html>\r\n \n"},{"result":{"nanos":2841183,"millis":2.841183,"status":"passed"},"step":{"line":54,"prefix":"*","index":14,"text":"print responseCookies"},"stepLog":"14:02:20.374 [print] {\n  \"JSESSIONID\": {\n    \"path\": null,\n    \"domain\": \"localhost\",\n    \"name\": \"JSESSIONID\",\n    \"max-age\": -9223372036854775808,\n    \"httponly\": false,\n    \"secure\": false,\n    \"value\": \"F5B6EE307ECDB19D740B8C514ADC12C8\",\n    \"wrap\": false\n  }\n}\n \n"},{"result":{"nanos":366078421,"millis":366.078421,"status":"passed"},"step":{"line":55,"prefix":"*","index":15,"text":"def h4s = util.selectHtml(response, \"title\");"}},{"result":{"nanos":4216118,"millis":4.216118,"status":"passed"},"step":{"line":56,"prefix":"*","index":16,"text":"print h4s"},"stepLog":"14:02:20.746 [print] Perfil \n"},{"result":{"nanos":36198434,"millis":36.198434,"status":"passed"},"step":{"line":57,"prefix":"*","index":17,"text":"match h4s contains 'Perfil'"}},{"result":{"nanos":86923772,"errorMessage":">>>> js failed:\n01: driver.screenshot()\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"driver\" is not defined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/karate-ui\/login.feature:58","millis":86.923772,"status":"failed"},"step":{"line":58,"prefix":"*","index":18,"text":"driver.screenshot()"},"stepLog":"14:02:20.876 src\/test\/karate-ui\/login.feature:58\n* driver.screenshot()\n>>>> js failed:\n01: driver.screenshot()\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"driver\" is not defined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/karate-ui\/login.feature:58\n"}],"line":37,"description":"","durationMillis":1908.438139,"failed":true,"error":">>>> js failed:\n01: driver.screenshot()\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"driver\" is not defined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/karate-ui\/login.feature:58","executorName":"com.intuit.karate.cli.Main.main()","name":"get login page, capture csrf, send login","startTime":1618660938533,"refId":"[1:37]","endTime":1618660940876,"exampleIndex":-1}],"callDepth":0,"name":"browser automation 1","description":"","resultDate":"2021-04-17 02:02:20 p. m.","durationMillis":1908.438139,"passedCount":0}